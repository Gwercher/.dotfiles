#!/usr/bin/env bash

main() {
	git status 2>/dev/null 1>/dev/null

	local ret=$?
	if [[ $ret -ne 0 ]]; then
		echo "Not in git repository! Exiting..."
		exit 0
	fi

	local count=$(git status -s | wc -l)
	if [[ $count -eq 0 ]]; then
		echo "No changes found! Exiting..."
		exit 0
	fi

	echo "found $count change(s) inside $PWD"
	git status -s

	echo

	read -p "Commit message: " cm
	git add .
	echo
	git commit -m"$cm"
	echo

	git push
}

main $@
