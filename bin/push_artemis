#!/usr/bin/env bash

main() {
	local wd=$PWD
	local name=$(basename $wd)

	if [[ ! $(echo $name | grep -E '((s)|(test))[[:digit:]]*e[[:digit:]]*') ]]; then
		echo "Not in a directory matching '((s)|(test))XXeXX' exiting..."
		exit 1
	fi

	cd $wd && git add . && git commit -m"$name" && git push && echo "add/commit/push in $wd"
}

main $@
